(()=>{"use strict";(()=>{const e=document.querySelector("body"),t=document.querySelector(".modal-overlay"),o=document.getElementById("callback");e.addEventListener("click",(e=>{e.target.closest(".fancyboxModal")||e.target.closest(".callback-btn")?(({timing:e,draw:t,duration:o})=>{const c=performance.now();requestAnimationFrame((function l(s){let a=(s-c)/o;a>1&&(a=1);const n=e(a);t(n),a<1&&requestAnimationFrame(l)}))})({duration:1e3,timing:e=>e,draw(e){t.style.opacity=e,o.style.opacity=e,t.style.display="block",o.style.display="block"}}):(e.target.closest(".modal-overlay")||e.target.closest(".modal-close"))&&(t.style.display="none",o.style.display="none")}))})(),document.querySelector(".accordeon"),document.querySelectorAll(".accordeon .element").forEach((e=>{e.querySelectorAll(".accordeon .title");const t=e.querySelectorAll(".accordeon .element-content");e.addEventListener("click",(o=>{o.target.closest(".active")&&o.target.closest(".title")?(e.classList.remove("active"),t.forEach((e=>{e.style.display="none"}))):!o.target.closest(".active")&&o.target.closest(".title")?(e.classList.add("active"),t.forEach((e=>{e.style.display="block"}))):e.classList}))})),(()=>{const e=document.getElementById("callback");let t=document.createElement("div");e.addEventListener("submit",(o=>{o.preventDefault(),(()=>{const o=e.querySelectorAll("input"),c=(new FormData(e),{});var l;t.textContent="Идёт отправка...",t.classList.add("status-text"),e.append(t),(()=>{const e=document.querySelector('input[name="fio"]'),t=(document.querySelector('input[name="tel"]'),/[а-яА-Я]/);e.addEventListener("input",(o=>{t.test(e)?console.log("OK"):console.log("Not OK")}))})()?(l=c,fetch("./server.php",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((e=>{statusBlock.textContent=successText,o.forEach((e=>{e.value=""}))})).catch((e=>{statusBlock.textContent=errorText})):alert("Данные не валидны!")})()}))})(),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})}))})),(()=>{const e=document.querySelector(".services-section"),t=e.querySelectorAll(".col-sm-6");let o=0,c=0;const l=()=>{t[o].classList.remove("service-slide-active"),o++,o>=t.length&&(o=0),t[o].classList.add("service-slide-active")},s=(e=1500)=>{c=setInterval(l,e)};e.addEventListener("mouseenter",(e=>{e.target.matches(".dot, .portfolio-btn")&&clearInterval(c)}),!0),e.addEventListener("mouseleave",(e=>{e.target.matches(".dot, .portfolio-btn")&&s(3e3)}),!0),s(3e3)})(),(()=>{const e=document.querySelector(".top-slider"),t=document.querySelectorAll(".top-slider .item"),o=document.querySelectorAll(".top-slider .table");let c=0,l=0;const s=()=>{c++,c>=t.length&&(c=0);let l=e.clientHeight;t.forEach(((e,t)=>{t===c?(e.classList.add("active"),e.style.transition="0.3s",e.style.marginTop=`-${l*t}px`):t!==c&&(e.classList.remove("active"),e.style.marginTop="0px")})),o.forEach(((e,t)=>{t===c?e.classList.add("active"):t!==c&&e.classList.remove("active")}))};((e=5e3)=>{l=setInterval(s,e)})()})()})();